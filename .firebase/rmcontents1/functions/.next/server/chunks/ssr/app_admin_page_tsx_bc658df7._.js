module.exports=[88367,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246),f=a.i(53131),g=a.i(18740);a.i(69387);var h=a.i(60574);function i(){let{user:a,loading:i}=(0,f.useAuth)(),j=a?.isAdmin,k=(0,d.useRouter)(),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{if(!i){if(!a||!j){alert("접근 권한이 없습니다."),k.push("/dashboard");return}(async()=>{o(!0);try{let a=(0,h.query)((0,h.collection)(g.db,"requests"),(0,h.where)("status","!=","completed"),(0,h.orderBy)("status"),(0,h.orderBy)("requestedAt","desc")),b=(await (0,h.getDocs)(a)).docs.map(a=>({id:a.id,...a.data()}));m(b)}catch(a){console.error("요청 목록을 불러오는 중 에러:",a)}o(!1)})()}},[a,i,j,k]),i||n||!j)?(0,b.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:"관리자 정보를 확인 중입니다..."}):(0,b.jsx)("div",{className:"flex min-h-screen flex-col",children:(0,b.jsx)("main",{className:"flex-grow bg-gray-50 py-12",children:(0,b.jsxs)("div",{className:"container mx-auto max-w-5xl px-6",children:[(0,b.jsx)("h1",{className:"mb-8 text-3xl font-bold text-gray-900",children:"관리자 대시보드 (접수된 요청)"}),(0,b.jsx)("div",{className:"overflow-x-auto rounded-lg bg-white shadow",children:(0,b.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,b.jsx)("thead",{className:"bg-gray-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"상태"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"요청 제목"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"요청 강사 (학원)"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"요청일"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"관리"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-200",children:0===l.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"새로운 요청이 없습니다."})}):l.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsxs)("td",{className:"px-6 py-4",children:["requested"===a.status&&(0,b.jsx)("span",{className:"rounded-full bg-red-100 px-2 py-1 text-xs font-semibold text-red-700",children:"요청됨"}),"in_progress"===a.status&&(0,b.jsx)("span",{className:"rounded-full bg-yellow-100 px-2 py-1 text-xs font-semibold text-yellow-700",children:"작업중"})]}),(0,b.jsx)("td",{className:"px-6 py-4 font-medium text-gray-900",children:a.title}),(0,b.jsxs)("td",{className:"px-6 py-4 text-gray-700",children:[a.instructorName," (",a.academy,")"]}),(0,b.jsx)("td",{className:"px-6 py-4 text-gray-500",children:a.requestedAt.toDate().toLocaleDateString("ko-KR")}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)(e.default,{href:`/admin/request/${a.id}`,className:"font-medium text-blue-600 hover:text-blue-800",children:"처리하기"})})]},a.id))})]})})]})})})}a.s(["default",()=>i])}];

//# sourceMappingURL=app_admin_page_tsx_bc658df7._.js.map