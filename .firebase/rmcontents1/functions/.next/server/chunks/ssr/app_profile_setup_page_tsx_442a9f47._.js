module.exports=[13070,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(53131),f=a.i(18740);a.i(69387);var g=a.i(60574);function h(){let{user:a,checkFirstLogin:h}=(0,e.useAuth)(),i=(0,d.useRouter)(),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(!1),t=async b=>{if(b.preventDefault(),!a)return void q("로그인 정보가 없습니다. 다시 로그인해주세요.");if(!j||!l)return void q("이름과 학원명은 필수입니다.");s(!0);try{let b=(0,g.doc)(f.db,"users",a.uid);await (0,g.setDoc)(b,{uid:a.uid,email:a.email,name:j,academy:l,school:n||"",createdAt:new Date,role:a.isAdmin?"admin":"instructor"},{merge:!0}),await h(a),i.push("/dashboard")}catch(a){console.error("프로필 저장 중 에러:",a),q("프로필 저장에 실패했습니다. 잠시 후 다시 시도해주세요."),s(!1)}};return a?(0,b.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:(0,b.jsxs)("div",{className:"w-full max-w-lg rounded-lg bg-white p-8 shadow-md",children:[(0,b.jsx)("h2",{className:"mb-6 text-center text-2xl font-bold text-gray-900",children:"프로필 설정"}),(0,b.jsx)("p",{className:"mb-6 text-center text-sm text-gray-600",children:"서비스 이용을 위해 추가 정보를 입력해주세요."}),(0,b.jsxs)("form",{onSubmit:t,className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"이름 (필수)"}),(0,b.jsx)("input",{id:"name",type:"text",value:j,onChange:a=>k(a.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"academy",className:"block text-sm font-medium text-gray-700",children:"학원명 (필수)"}),(0,b.jsx)("input",{id:"academy",type:"text",value:l,onChange:a=>m(a.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"school",className:"block text-sm font-medium text-gray-700",children:"담당 학교 (선택)"}),(0,b.jsx)("input",{id:"school",type:"text",value:n,onChange:a=>o(a.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),p&&(0,b.jsx)("p",{className:"text-center text-sm text-red-600",children:p}),(0,b.jsx)("div",{children:(0,b.jsx)("button",{type:"submit",disabled:r,className:"w-full rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:r?"저장 중...":"설정 완료 및 시작하기"})})]})]})}):(0,b.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:"로그인 정보를 불러오는 중..."})}a.s(["default",()=>h])}];

//# sourceMappingURL=app_profile_setup_page_tsx_442a9f47._.js.map