module.exports=[66680,(a,b,c)=>{b.exports=a.x("node:crypto",()=>require("node:crypto"))},49666,a=>{"use strict";var b=a.i(66680);let c={randomUUID:b.randomUUID},d=new Uint8Array(256),e=d.length,f=[];for(let a=0;a<256;++a)f.push((a+256).toString(16).slice(1));a.s(["v4",0,function(a,g,h){if(c.randomUUID&&!g&&!a)return c.randomUUID();var i=a,j=h;let k=(i=i||{}).random??i.rng?.()??(e>d.length-16&&((0,b.randomFillSync)(d),e=0),d.slice(e,e+=16));if(k.length<16)throw Error("Random bytes length must be >= 16");if(k[6]=15&k[6]|64,k[8]=63&k[8]|128,g){if((j=j||0)<0||j+16>g.length)throw RangeError(`UUID byte range ${j}:${j+15} is out of buffer bounds`);for(let a=0;a<16;++a)g[j+a]=k[a];return g}return function(a,b=0){return(f[a[b+0]]+f[a[b+1]]+f[a[b+2]]+f[a[b+3]]+"-"+f[a[b+4]]+f[a[b+5]]+"-"+f[a[b+6]]+f[a[b+7]]+"-"+f[a[b+8]]+f[a[b+9]]+"-"+f[a[b+10]]+f[a[b+11]]+f[a[b+12]]+f[a[b+13]]+f[a[b+14]]+f[a[b+15]]).toLowerCase()}(k)}],49666)},94977,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(53131),f=a.i(18740);a.i(69387);var g=a.i(60574);a.i(60121);var h=a.i(5420),i=a.i(49666);function j(){let{user:a,loading:j}=(0,e.useAuth)(),k=(0,d.useRouter)(),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)("");(0,c.useEffect)(()=>{!j&&(a||(alert("로그인이 필요한 서비스입니다."),k.push("/login")))},[a,j,k]);let v=async b=>{if(b.preventDefault(),!a)return void u("로그인이 필요합니다.");if(!l||!n)return void u("요청 제목과 상세 내용은 필수입니다.");s(!0),u("");try{let b="",c="";if(p){let d=`${(0,i.v4)()}-${p.name}`;c=`uploads/requests/${a.uid}/${d}`;let e=(0,h.ref)(f.storage,c);await (0,h.uploadBytes)(e,p),b=await (0,h.getDownloadURL)(e)}let d=(await (0,g.getDoc)((0,g.doc)(f.db,"users",a.uid))).data();await (0,g.addDoc)((0,g.collection)(f.db,"requests"),{instructorId:a.uid,instructorName:d?.name||"이름없음",academy:d?.academy||"학원없음",title:l,details:n,status:"requested",requestedAt:(0,g.serverTimestamp)(),referenceFileUrl:b,referenceStoragePath:c}),alert("작업 요청이 성공적으로 제출되었습니다."),k.push("/dashboard")}catch(a){console.error("요청 제출 중 에러:",a),u("제출 중 오류가 발생했습니다. 잠시 후 다시 시도해주세요."),s(!1)}};return j?(0,b.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:"로딩 중..."}):a?(0,b.jsx)("div",{className:"flex min-h-screen flex-col",children:(0,b.jsx)("main",{className:"flex-grow bg-gray-50 py-16",children:(0,b.jsxs)("div",{className:"container mx-auto max-w-2xl rounded-lg bg-white p-8 shadow-md",children:[(0,b.jsx)("h1",{className:"mb-8 text-center text-3xl font-bold text-gray-900",children:"새 작업 요청하기"}),(0,b.jsxs)("form",{onSubmit:v,className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"요청 제목 (필수)"}),(0,b.jsx)("input",{id:"title",type:"text",value:l,onChange:a=>m(a.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"예: OO고 2학년 1학기 중간고사 대비"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"details",className:"block text-sm font-medium text-gray-700",children:"상세 요청 내용 (필수)"}),(0,b.jsx)("textarea",{id:"details",rows:6,value:n,onChange:a=>o(a.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"필요한 문항 수, 난이도, 특정 유형, 마감일 등 상세 내용을 적어주세요."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"file",className:"block text-sm font-medium text-gray-700",children:"참고 파일 (선택)"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"학교 기출 문제, 참고 자료 등 PDF 파일을 업로드할 수 있습니다."}),(0,b.jsx)("input",{id:"file",type:"file",accept:".pdf",onChange:a=>{a.target.files&&a.target.files[0]&&q(a.target.files[0])},className:"block w-full text-sm text-gray-500   file:mr-4 file:rounded-md file:border-0   file:bg-blue-50 file:px-4 file:py-2   file:text-sm file:font-medium file:text-blue-700   hover:file:bg-blue-100"})]}),t&&(0,b.jsx)("p",{className:"text-center text-sm text-red-600",children:t}),(0,b.jsx)("div",{children:(0,b.jsx)("button",{type:"submit",disabled:r,className:"w-full rounded-md border border-transparent bg-blue-600 px-6 py-3 text-base font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:r?"제출 중...":"작업 요청하기"})})]})]})})}):(k.push("/login"),null)}a.s(["default",()=>j])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__42d9b05c._.js.map