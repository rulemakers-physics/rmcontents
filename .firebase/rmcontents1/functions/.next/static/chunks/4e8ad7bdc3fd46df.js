(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78928,e=>{"use strict";var t=e.i(43476),s=e.i(71645),l=e.i(18566),r=e.i(22016),a=e.i(97815),d=e.i(76009);e.i(36180);var i=e.i(98925);function c(){let{user:e,loading:c}=(0,a.useAuth)(),x=(0,l.useRouter)(),[n,o]=(0,s.useState)([]),[m,u]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{c||(e?(async()=>{u(!0);try{let t=(0,i.query)((0,i.collection)(d.db,"requests"),(0,i.where)("instructorId","==",e.uid),(0,i.orderBy)("requestedAt","desc")),s=(await (0,i.getDocs)(t)).docs.map(e=>({id:e.id,...e.data()}));o(s)}catch(e){console.error("내 요청 목록을 불러오는 중 에러:",e)}u(!1)})():x.push("/login"))},[e,c,x]),c||m)?(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:"요청 목록을 불러오는 중..."}):e?(0,t.jsx)("div",{className:"flex min-h-screen flex-col",children:(0,t.jsx)("main",{className:"flex-grow bg-gray-50 py-12",children:(0,t.jsxs)("div",{className:"container mx-auto max-w-5xl px-6",children:[(0,t.jsxs)("div",{className:"flex flex-col items-start justify-between gap-4 md:flex-row md:items-center",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"요청한 작업 목록"}),(0,t.jsx)(r.default,{href:"/request",className:"rounded-md bg-blue-600 px-5 py-2.5 text-sm font-medium text-white shadow-sm transition-colors hover:bg-blue-700",children:"+ 새 작업 요청하기"})]}),(0,t.jsx)("div",{className:"mt-8 overflow-x-auto rounded-lg bg-white shadow",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"상태"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"요청 제목"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"요청일"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"완료/다운로드"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:0===n.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:4,className:"px-6 py-12 text-center text-gray-500",children:"아직 요청한 작업이 없습니다."})}):n.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsxs)("td",{className:"px-6 py-4",children:["requested"===e.status&&(0,t.jsx)("span",{className:"rounded-full bg-red-100 px-2 py-1 text-xs font-semibold text-red-700",children:"요청됨"}),"in_progress"===e.status&&(0,t.jsx)("span",{className:"rounded-full bg-yellow-100 px-2 py-1 text-xs font-semibold text-yellow-700",children:"작업중"}),"completed"===e.status&&(0,t.jsx)("span",{className:"rounded-full bg-green-100 px-2 py-1 text-xs font-semibold text-green-700",children:"완료됨"})]}),(0,t.jsx)("td",{className:"px-6 py-4 font-medium text-gray-900",children:e.title}),(0,t.jsx)("td",{className:"px-6 py-4 text-gray-500",children:e.requestedAt.toDate().toLocaleDateString("ko-KR")}),(0,t.jsx)("td",{className:"px-6 py-4",children:"completed"===e.status&&e.completedFileUrl?(0,t.jsx)("a",{href:e.completedFileUrl,target:"_blank",rel:"noopener noreferrer",className:"rounded-md bg-blue-100 px-3 py-2 text-sm font-medium text-blue-700 hover:bg-blue-200",children:"다운로드"}):(0,t.jsx)("span",{className:"text-sm text-gray-400",children:"in_progress"===e.status?"작업 진행 중":"대기 중"})})]},e.id))})]})})]})})}):null}e.s(["default",()=>c])}]);